services:
  # Backend (Spring Boot)
  - type: web
    name: staybooking-backend
    env: java          # env ще підтримується, хоча Render рекомендує runtime
    rootDir: backend
    plan: free
    buildCommand: ./mvnw clean package -DskipTests
    startCommand: java -jar target/*.jar
    autoDeploy: true

  # Frontend (Vite -> Static Site)
  - type: web
    name: staybooking-frontend
    runtime: static
    rootDir: .
    plan: free
    buildCommand: npm ci && npm run build
    staticPublishPath: dist
    autoDeploy: true
    routes:
      - type: rewrite
        source: /*
        destination: /index.html
